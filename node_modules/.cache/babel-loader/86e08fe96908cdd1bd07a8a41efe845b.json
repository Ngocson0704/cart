{"ast":null,"code":"import * as types from './../constants/ActionType';\nvar data = JSON.parse(localStorage.getItem('CART'));\nvar initialState = [{\n  product: {\n    id: 1,\n    name: 'Iphone 6',\n    image: 'https://cdn.tgdd.vn/Products/Images/42/74110/iphone-7-gold-600x600-1-600x600.jpg',\n    description: \"Sản phẩm do Apple sản xuất\",\n    price: 500,\n    inventory: 10,\n    rating: 4\n  },\n  quantity: 5\n}, {\n  product: {\n    id: 2,\n    name: 'Iphone 7',\n    image: 'https://cdn.tgdd.vn/Products/Images/42/92962/iphone-6-32gb-gold-hh-600x600-600x600-600x600.jpg',\n    description: \"Sản phẩm do Apple sản xuất\",\n    price: 550,\n    inventory: 10,\n    rating: 3\n  },\n  quantity: 3\n}];\n\nconst cart = (state = initialState, action) => {\n  var {\n    product,\n    quantity\n  } = action;\n  var index = -1;\n\n  switch (action.type) {\n    case types.ADD_TO_CART:\n      index = findProductInCart(state, product);\n\n      if (index !== -1) {\n        state[index].quantity += quantity;\n      }\n\n      state.push({\n        product,\n        quantity\n      });\n      return [...state];\n\n    default:\n      return [...state];\n  }\n};\n\nvar findProductInCart = (cart, product) => {\n  var index = -1; // khong tim thay\n\n  if (cart.length > 0) {\n    for (var i = 0; i < cart.length; i++) {\n      if (cart[i].product.id === product.id) {\n        index = i;\n        break;\n      }\n    }\n  }\n\n  return index;\n};\n\nexport default cart;","map":{"version":3,"sources":["/home/ngocson/Documents/cart/src/reducers/cart.js"],"names":["types","data","JSON","parse","localStorage","getItem","initialState","product","id","name","image","description","price","inventory","rating","quantity","cart","state","action","index","type","ADD_TO_CART","findProductInCart","push","length","i"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,2BAAvB;AAEA,IAAIC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAX;AACA,IAAIC,YAAY,GAAG,CACf;AACIC,EAAAA,OAAO,EAAE;AACLC,IAAAA,EAAE,EAAE,CADC;AAELC,IAAAA,IAAI,EAAE,UAFD;AAGLC,IAAAA,KAAK,EAAE,kFAHF;AAILC,IAAAA,WAAW,EAAE,4BAJR;AAKLC,IAAAA,KAAK,EAAE,GALF;AAMLC,IAAAA,SAAS,EAAE,EANN;AAOLC,IAAAA,MAAM,EAAE;AAPH,GADb;AAUIC,EAAAA,QAAQ,EAAC;AAVb,CADe,EAaf;AACIR,EAAAA,OAAO,EAAC;AACJC,IAAAA,EAAE,EAAC,CADC;AAEJC,IAAAA,IAAI,EAAC,UAFD;AAGJC,IAAAA,KAAK,EAAC,gGAHF;AAIJC,IAAAA,WAAW,EAAC,4BAJR;AAKJC,IAAAA,KAAK,EAAC,GALF;AAMJC,IAAAA,SAAS,EAAC,EANN;AAOJC,IAAAA,MAAM,EAAC;AAPH,GADZ;AAUIC,EAAAA,QAAQ,EAAC;AAVb,CAbe,CAAnB;;AA2BA,MAAMC,IAAI,GAAG,CAACC,KAAK,GAAGX,YAAT,EAAuBY,MAAvB,KAAkC;AAC3C,MAAI;AAACX,IAAAA,OAAD;AAASQ,IAAAA;AAAT,MAAmBG,MAAvB;AACA,MAAIC,KAAK,GAAG,CAAC,CAAb;;AACA,UAAQD,MAAM,CAACE,IAAf;AACI,SAAKpB,KAAK,CAACqB,WAAX;AACIF,MAAAA,KAAK,GAACG,iBAAiB,CAACL,KAAD,EAAOV,OAAP,CAAvB;;AACA,UAAGY,KAAK,KAAG,CAAC,CAAZ,EAAc;AACVF,QAAAA,KAAK,CAACE,KAAD,CAAL,CAAaJ,QAAb,IAAuBA,QAAvB;AACH;;AACDE,MAAAA,KAAK,CAACM,IAAN,CAAW;AACPhB,QAAAA,OADO;AAEPQ,QAAAA;AAFO,OAAX;AAIA,aAAO,CAAC,GAAGE,KAAJ,CAAP;;AACJ;AAAS,aAAO,CAAC,GAAGA,KAAJ,CAAP;AAXb;AAaH,CAhBD;;AAkBA,IAAIK,iBAAiB,GAAC,CAACN,IAAD,EAAMT,OAAN,KAAgB;AAClC,MAAIY,KAAK,GAAE,CAAC,CAAZ,CADkC,CACnB;;AACf,MAAGH,IAAI,CAACQ,MAAL,GAAY,CAAf,EAAiB;AACZ,SAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACT,IAAI,CAACQ,MAAnB,EAA0BC,CAAC,EAA3B,EAA8B;AAC1B,UAAGT,IAAI,CAACS,CAAD,CAAJ,CAAQlB,OAAR,CAAgBC,EAAhB,KAAqBD,OAAO,CAACC,EAAhC,EAAmC;AAC/BW,QAAAA,KAAK,GAACM,CAAN;AACA;AACH;AACJ;AACL;;AACD,SAAON,KAAP;AACH,CAXD;;AAaA,eAAeH,IAAf","sourcesContent":["import * as types from './../constants/ActionType';\n\nvar data = JSON.parse(localStorage.getItem('CART'));\nvar initialState = [\n    {\n        product: {\n            id: 1,\n            name: 'Iphone 6',\n            image: 'https://cdn.tgdd.vn/Products/Images/42/74110/iphone-7-gold-600x600-1-600x600.jpg',\n            description: \"Sản phẩm do Apple sản xuất\",\n            price: 500,\n            inventory: 10,\n            rating: 4\n        },\n        quantity:5\n    },\n    {\n        product:{\n            id:2,\n            name:'Iphone 7',\n            image:'https://cdn.tgdd.vn/Products/Images/42/92962/iphone-6-32gb-gold-hh-600x600-600x600-600x600.jpg',\n            description:\"Sản phẩm do Apple sản xuất\",\n            price:550,\n            inventory:10,\n            rating:3\n        },\n        quantity:3\n    }\n];\n\nconst cart = (state = initialState, action) => {\n    var {product,quantity}=action;\n    var index = -1;\n    switch (action.type) {\n        case types.ADD_TO_CART:\n            index=findProductInCart(state,product);\n            if(index!==-1){\n                state[index].quantity+=quantity\n            }\n            state.push({\n                product,\n                quantity\n            })\n            return [...state];\n        default: return [...state];\n    }\n}\n\nvar findProductInCart=(cart,product)=>{\n    var index =-1; // khong tim thay\n    if(cart.length>0){\n         for(var i=0;i<cart.length;i++){\n             if(cart[i].product.id===product.id){\n                 index=i;\n                 break;\n             }\n         }\n    }\n    return index;\n}\n\nexport default cart;"]},"metadata":{},"sourceType":"module"}